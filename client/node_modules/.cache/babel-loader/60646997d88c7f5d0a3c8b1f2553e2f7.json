{"ast":null,"code":"var _jsxFileName = \"/Users/biysandh/Documents/training/reference demos/vineeth/shopping-cart-assignment-develop 2/client/src/pages/products/Products.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport ProductItems from '../../components/ProductItems/ProductItems';\nimport Menubar from '../../components/Menubar/Menubar';\nimport Dropdown from '../../components/dropdown/Dropdown';\nimport classes from './Products.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Products = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [allProducts, setAllProducts] = useState([]);\n  const history = useHistory();\n  const {\n    search\n  } = useLocation();\n  const searchParams = new URLSearchParams(search);\n  const productId = searchParams.get(\"product\");\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/products\").then(response => {\n      setProducts(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/categories\").then(response => {\n      setCategories(response.data);\n    }).catch(error => {});\n  }, []);\n  console.log(productId);\n  useEffect(() => {\n    setAllProducts(() => {\n      if (productId === null) {\n        return products;\n      } else {\n        return products.filter(product => product.category === productId);\n      }\n\n      console.log(products);\n    });\n  }, [productId, products]);\n\n  const handleclick = id => {\n    history.push(`/Products?product=${id}`);\n  };\n\n  const handleDropdownclick = e => {\n    const id = e.target.value;\n\n    if (id === \"Default\") {\n      history.push('/Products');\n    } else {\n      history.push(`/Products?product=${id}`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.product__container,\n    children: [/*#__PURE__*/_jsxDEV(Menubar, {\n      categories: categories,\n      handleclick: handleclick,\n      className: classes.menubar__container\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.product__dropdown,\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        categories: categories,\n        handleDropdownclick: handleDropdownclick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductItems, {\n      products: allProducts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Products, \"bhnVLFoSm4syEwF9F+u95tGViwk=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Products;\nexport default Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["/Users/biysandh/Documents/training/reference demos/vineeth/shopping-cart-assignment-develop 2/client/src/pages/products/Products.jsx"],"names":["React","useState","useEffect","axios","useHistory","useLocation","ProductItems","Menubar","Dropdown","classes","Products","products","setProducts","categories","setCategories","allProducts","setAllProducts","history","search","searchParams","URLSearchParams","productId","get","then","response","data","catch","error","console","log","filter","product","category","handleclick","id","push","handleDropdownclick","e","target","value","product__container","menubar__container","product__dropdown"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react'\nimport axios from 'axios'\nimport {useHistory, useLocation} from 'react-router-dom'\n\nimport ProductItems from '../../components/ProductItems/ProductItems'\nimport Menubar from '../../components/Menubar/Menubar'\nimport Dropdown from '../../components/dropdown/Dropdown'\n\nimport classes from './Products.module.css'\n\nconst Products = ()=>{\n\n    const [products, setProducts] = useState([])\n    const [categories, setCategories] = useState([])\n    const [allProducts, setAllProducts] = useState([])\n\n    const history =useHistory()\n    const {search} = useLocation()\n    const searchParams = new URLSearchParams(search);\n    const productId = searchParams.get(\"product\");\n\n    useEffect(()=>{\n        axios\n       .get(\"http://localhost:5000/products\")\n       .then((response) => {\n        setProducts(response.data);\n       })\n       .catch((error) => {\n         console.log(error);\n       });\n    },[])\n\n    useEffect(() => {\n        axios\n          .get(\"http://localhost:5000/categories\")\n          .then((response) => {\n            setCategories(response.data);\n          })\n          .catch((error) => {});\n    }, []);\n\nconsole.log(productId)\n    useEffect(()=>{\n        setAllProducts(()=>{\n            if(productId === null){\n                return products\n            }\n            else {\n                return products.filter(\n                  (product) => product.category === productId\n\n                );\n              }\n              console.log(products)\n        })\n    },[productId,products ])\n\n    const handleclick = (id)=> {\n        history.push(`/Products?product=${id}`)\n    }\n\n    const handleDropdownclick =(e) =>{\n        const id = e.target.value;\n        if(id === \"Default\"){\n            history.push('/Products')\n        }\n        else{\n            history.push(`/Products?product=${id}`);\n        }\n        \n    }\n\n    return (\n        <div className={classes.product__container}>\n            <Menubar categories={categories} handleclick={handleclick} className={classes.menubar__container}/>\n            <div className={classes.product__dropdown}>\n                <Dropdown categories={categories} handleDropdownclick={handleDropdownclick} />\n            </div>\n            <ProductItems products={allProducts}/>\n            \n        </div>\n    )\n}\n\n\nexport default Products;\n"]},"metadata":{},"sourceType":"module"}